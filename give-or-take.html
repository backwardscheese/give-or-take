<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Give or Take - Classroom Game</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        h1 {
            text-align: center;
            color: white;
            margin-bottom: 30px;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .setup-screen, .game-screen {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
        }

        .setup-screen h2 {
            color: #667eea;
            margin-bottom: 30px;
            text-align: center;
        }

        .team-setup {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        .team-input {
            display: flex;
            flex-direction: column;
        }

        .team-input label {
            font-weight: 600;
            margin-bottom: 10px;
            color: #555;
        }

        .team-input input {
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        .team-input input:focus {
            outline: none;
            border-color: #667eea;
        }

        .start-btn {
            display: block;
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .start-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
        }

        .scoreboard {
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            gap: 20px;
            margin-bottom: 30px;
            align-items: center;
        }

        .team-score {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            color: white;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .team-score.active {
            transform: scale(1.05);
            box-shadow: 0 6px 25px rgba(102, 126, 234, 0.5);
        }

        .team-name {
            font-size: 1.3em;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .team-points {
            font-size: 2.5em;
            font-weight: 700;
        }

        .vs {
            font-size: 2em;
            font-weight: 700;
            color: #667eea;
        }

        .grid-container {
            margin: 30px 0;
            display: flex;
            justify-content: center;
        }

        .grid {
            display: inline-grid;
            grid-template-columns: 40px repeat(5, 100px);
            grid-template-rows: 40px repeat(5, 100px);
            gap: 10px;
        }

        .grid-label {
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            color: #667eea;
            font-size: 1.2em;
        }

        .card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 12px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5em;
            font-weight: 700;
            color: white;
            transition: all 0.3s;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            position: relative;
            overflow: hidden;
        }

        .card:hover:not(.revealed) {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4);
        }

        .card.revealed {
            cursor: default;
            opacity: 0.6;
        }

        .card.positive {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
        }

        .card.negative {
            background: linear-gradient(135deg, #eb3349 0%, #f45c43 100%);
        }

        .card.special {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }

        .action-panel {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            margin-top: 30px;
            text-align: center;
        }

        .action-panel h3 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 1.3em;
        }

        .action-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .action-btn {
            padding: 15px 40px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }

        .keep-btn {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            color: white;
        }

        .give-btn {
            background: linear-gradient(135deg, #eb3349 0%, #f45c43 100%);
            color: white;
        }

        .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.2);
        }

        .action-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .message {
            background: white;
            border-left: 4px solid #667eea;
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 8px;
            font-weight: 500;
            color: #555;
        }

        .reset-btn {
            display: block;
            margin: 20px auto 0;
            padding: 12px 30px;
            background: #6c757d;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .reset-btn:hover {
            background: #5a6268;
            transform: translateY(-2px);
        }

        .hidden {
            display: none;
        }

        .game-over-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }

        .modal-content {
            background: white;
            padding: 50px;
            border-radius: 20px;
            text-align: center;
            max-width: 500px;
            box-shadow: 0 10px 50px rgba(0,0,0,0.3);
        }

        .modal-content h2 {
            font-size: 2.5em;
            margin-bottom: 20px;
            color: #667eea;
        }

        .modal-content p {
            font-size: 1.3em;
            margin-bottom: 30px;
            color: #555;
        }

        @media (max-width: 768px) {
            .grid {
                grid-template-columns: 30px repeat(5, 60px);
                grid-template-rows: 30px repeat(5, 60px);
                gap: 5px;
            }

            .card {
                font-size: 1em;
            }

            .team-setup {
                grid-template-columns: 1fr;
            }

            h1 {
                font-size: 1.8em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üéÆ Give or Take</h1>

        <div id="setupScreen" class="setup-screen">
            <h2>Team Setup</h2>
            <div class="team-setup">
                <div class="team-input">
                    <label for="team1Name">Team 1 Name:</label>
                    <input type="text" id="team1Name" placeholder="e.g., Boys, Left Side" value="Team 1">
                </div>
                <div class="team-input">
                    <label for="team2Name">Team 2 Name:</label>
                    <input type="text" id="team2Name" placeholder="e.g., Girls, Right Side" value="Team 2">
                </div>
            </div>
            <button class="start-btn" onclick="startGame()">Start Game</button>
        </div>

        <div id="gameScreen" class="game-screen hidden">
            <div class="scoreboard">
                <div class="team-score" id="team1Score">
                    <div class="team-name" id="team1NameDisplay">Team 1</div>
                    <div class="team-points" id="team1Points">0</div>
                </div>
                <div class="vs">VS</div>
                <div class="team-score" id="team2Score">
                    <div class="team-name" id="team2NameDisplay">Team 2</div>
                    <div class="team-points" id="team2Points">0</div>
                </div>
            </div>

            <div class="message" id="messageBox">
                <span id="currentTeam"></span>'s turn! Select a card from the grid.
            </div>

            <div class="grid-container">
                <div class="grid" id="cardGrid"></div>
            </div>

            <div class="action-panel" id="actionPanel" style="display: none;">
                <h3>What would you like to do?</h3>
                <div class="action-buttons">
                    <button class="action-btn keep-btn" onclick="keepCard()">üéÅ Keep the Card</button>
                    <button class="action-btn give-btn" onclick="giveCard()">üéØ Give to Opponent</button>
                </div>
            </div>

            <button class="reset-btn" onclick="resetGame()">New Game</button>
        </div>
    </div>

    <script>
        let gameState = {
            team1: { name: 'Team 1', points: 0 },
            team2: { name: 'Team 2', points: 0 },
            currentTeam: 1,
            selectedCard: null,
            cards: [],
            gameOver: false
        };

        function initializeCards() {
            const cards = [
                // Positive cards
                { value: 10, type: 'positive', display: '+10' },
                { value: 50, type: 'positive', display: '+50' },
                { value: 100, type: 'positive', display: '+100' },
                { value: 250, type: 'positive', display: '+250' },
                { value: 500, type: 'positive', display: '+500' },
                { value: 1000, type: 'positive', display: '+1000' },
                // Negative cards
                { value: -10, type: 'negative', display: '-10' },
                { value: -50, type: 'negative', display: '-50' },
                { value: -100, type: 'negative', display: '-100' },
                { value: -250, type: 'negative', display: '-250' },
                { value: -500, type: 'negative', display: '-500' },
                { value: -1000, type: 'negative', display: '-1000' },
                // Special cards
                { value: 0, type: 'special', display: 'üîÑ', special: 'swap', name: 'Points Swap' },
                { value: 0, type: 'special', display: 'üëë', special: 'win', name: 'Instant Win!' },
                { value: 0, type: 'special', display: 'üíÄ', special: 'lose', name: 'Instant Lose!' },
            ];

            // Shuffle and place on 5x5 grid
            const shuffled = cards.sort(() => Math.random() - 0.5);
            const grid = [];
            
            for (let row = 0; row < 5; row++) {
                for (let col = 0; col < 5; col++) {
                    const index = row * 5 + col;
                    if (index < shuffled.length) {
                        grid.push({
                            ...shuffled[index],
                            row,
                            col,
                            revealed: false,
                            position: `${String.fromCharCode(65 + col)}${row + 1}`
                        });
                    }
                }
            }

            return grid;
        }

        function startGame() {
            const team1Name = document.getElementById('team1Name').value.trim() || 'Team 1';
            const team2Name = document.getElementById('team2Name').value.trim() || 'Team 2';

            gameState.team1.name = team1Name;
            gameState.team2.name = team2Name;
            gameState.team1.points = 0;
            gameState.team2.points = 0;
            gameState.currentTeam = 1;
            gameState.cards = initializeCards();
            gameState.gameOver = false;

            document.getElementById('setupScreen').classList.add('hidden');
            document.getElementById('gameScreen').classList.remove('hidden');

            document.getElementById('team1NameDisplay').textContent = team1Name;
            document.getElementById('team2NameDisplay').textContent = team2Name;

            updateDisplay();
            renderGrid();
        }

        function renderGrid() {
            const grid = document.getElementById('cardGrid');
            grid.innerHTML = '';

            // Empty corner
            const corner = document.createElement('div');
            grid.appendChild(corner);

            // Column labels (A-E)
            for (let col = 0; col < 5; col++) {
                const label = document.createElement('div');
                label.className = 'grid-label';
                label.textContent = String.fromCharCode(65 + col);
                grid.appendChild(label);
            }

            // Rows with row labels (1-5)
            for (let row = 0; row < 5; row++) {
                // Row label
                const rowLabel = document.createElement('div');
                rowLabel.className = 'grid-label';
                rowLabel.textContent = row + 1;
                grid.appendChild(rowLabel);

                // Cards
                for (let col = 0; col < 5; col++) {
                    const cardIndex = row * 5 + col;
                    const cardData = gameState.cards[cardIndex];
                    const card = document.createElement('div');
                    card.className = 'card';
                    
                    if (cardData.revealed) {
                        card.classList.add('revealed', cardData.type);
                        card.textContent = cardData.display;
                    } else {
                        card.textContent = '?';
                        card.onclick = () => selectCard(cardIndex);
                    }

                    grid.appendChild(card);
                }
            }
        }

        function selectCard(index) {
            if (gameState.gameOver || gameState.cards[index].revealed) return;

            gameState.selectedCard = index;
            document.getElementById('actionPanel').style.display = 'block';
            
            const currentTeamName = gameState.currentTeam === 1 ? gameState.team1.name : gameState.team2.name;
            document.getElementById('messageBox').innerHTML = 
                `<strong>${currentTeamName}</strong> selected card <strong>${gameState.cards[index].position}</strong>. Make your choice!`;
        }

        function keepCard() {
            processCard(gameState.currentTeam);
        }

        function giveCard() {
            const opponentTeam = gameState.currentTeam === 1 ? 2 : 1;
            processCard(opponentTeam);
        }

        function processCard(receivingTeam) {
            const card = gameState.cards[gameState.selectedCard];
            card.revealed = true;

            const currentTeamName = gameState.currentTeam === 1 ? gameState.team1.name : gameState.team2.name;
            const receivingTeamName = receivingTeam === 1 ? gameState.team1.name : gameState.team2.name;
            const action = receivingTeam === gameState.currentTeam ? 'kept' : 'gave to opponent';

            document.getElementById('actionPanel').style.display = 'none';

            // Handle special cards
            if (card.special) {
                switch (card.special) {
                    case 'swap':
                        const tempPoints = gameState.team1.points;
                        gameState.team1.points = gameState.team2.points;
                        gameState.team2.points = tempPoints;
                        document.getElementById('messageBox').innerHTML = 
                            `<strong>${currentTeamName}</strong> ${action} the card and revealed <strong>${card.name}</strong>! Points have been swapped! üîÑ`;
                        break;
                    case 'win':
                        if (receivingTeam === gameState.currentTeam) {
                            endGame(receivingTeam, 'win');
                            return;
                        } else {
                            endGame(gameState.currentTeam === 1 ? 2 : 1, 'win');
                            return;
                        }
                    case 'lose':
                        if (receivingTeam === gameState.currentTeam) {
                            endGame(gameState.currentTeam === 1 ? 2 : 1, 'lose');
                            return;
                        } else {
                            endGame(receivingTeam, 'lose');
                            return;
                        }
                }
            } else {
                // Regular point card
                if (receivingTeam === 1) {
                    gameState.team1.points += card.value;
                } else {
                    gameState.team2.points += card.value;
                }

                document.getElementById('messageBox').innerHTML = 
                    `<strong>${currentTeamName}</strong> ${action} the card and revealed <strong>${card.display}</strong> points for <strong>${receivingTeamName}</strong>!`;
            }

            // Check if all cards are revealed
            const allRevealed = gameState.cards.every(c => c.revealed);
            if (allRevealed) {
                endGameByPoints();
                return;
            }

            // Switch teams
            gameState.currentTeam = gameState.currentTeam === 1 ? 2 : 1;
            gameState.selectedCard = null;

            updateDisplay();
            renderGrid();

            setTimeout(() => {
                const nextTeamName = gameState.currentTeam === 1 ? gameState.team1.name : gameState.team2.name;
                document.getElementById('messageBox').innerHTML = 
                    `<strong>${nextTeamName}</strong>'s turn! Select a card from the grid.`;
            }, 2000);
        }

        function endGame(winningTeam, reason) {
            gameState.gameOver = true;
            const winnerName = winningTeam === 1 ? gameState.team1.name : gameState.team2.name;
            
            let message = reason === 'win' 
                ? `${winnerName} revealed an Instant Win card! üëë`
                : `${winnerName} wins because their opponent revealed an Instant Lose card! üíÄ`;

            showGameOverModal(winnerName, message);
        }

        function endGameByPoints() {
            gameState.gameOver = true;
            const winner = gameState.team1.points > gameState.team2.points ? gameState.team1.name : 
                          gameState.team2.points > gameState.team1.points ? gameState.team2.name : 
                          'Tie';

            if (winner === 'Tie') {
                showGameOverModal('It\'s a Tie!', `Both teams scored ${gameState.team1.points} points!`);
            } else {
                const winnerPoints = winner === gameState.team1.name ? gameState.team1.points : gameState.team2.points;
                showGameOverModal(winner, `Final Score: ${winnerPoints} points!`);
            }
        }

        function showGameOverModal(winner, message) {
            const modal = document.createElement('div');
            modal.className = 'game-over-modal';
            modal.innerHTML = `
                <div class="modal-content">
                    <h2>üéâ Game Over!</h2>
                    <p><strong>${winner}</strong> wins!</p>
                    <p>${message}</p>
                    <button class="start-btn" onclick="location.reload()">Play Again</button>
                </div>
            `;
            document.body.appendChild(modal);
        }

        function updateDisplay() {
            document.getElementById('team1Points').textContent = gameState.team1.points;
            document.getElementById('team2Points').textContent = gameState.team2.points;

            // Highlight active team
            const team1Elem = document.getElementById('team1Score');
            const team2Elem = document.getElementById('team2Score');
            
            if (gameState.currentTeam === 1) {
                team1Elem.classList.add('active');
                team2Elem.classList.remove('active');
            } else {
                team2Elem.classList.add('active');
                team1Elem.classList.remove('active');
            }
        }

        function resetGame() {
            if (confirm('Are you sure you want to start a new game?')) {
                location.reload();
            }
        }
    </script>
</body>
</html>
